~~~~
<div id="app"> <!--流量计实时监控区--> <div style="padding: 30px;background: linear-gradient(to right, #f9fafb, #f3f4f6);border-radius: 12px;box-shadow: 0 6px 20px rgba(0,0,0,0.08);margin: 20px auto;max-width: 1600px;"> <!--标题--> <h2 style="text-align: center; margin-bottom: 25px; font-size: 24px; color: #111827;">流量计实时监控</h2> <!-- 实时数据 - 已修复色彩显示，浅绿=在线，浅红=掉线 --> <div class="meter-status" style="display: flex; gap: 40px; justify-content: center; margin-top: 20px; width: 100%; max-width: 1300px; margin-left: auto; margin-right: auto;"> <!-- 流量计1 --> <div class="meter-box" :style="{ flex: 1, padding: '15px', borderRadius: '10px', boxShadow: '0 4px 10px rgba(0,0,0,0.1)', backgroundColor: meter1.online ? '#f0fff4' : '#fff5f5', position: 'relative' }"> <h3 style="margin-bottom: 15px; font-size: 18px; color: #333; padding-right: 100px; text-align: left;">流量计 1</h3> <div :style="{ position: 'absolute', top: '15px', right: '15px', fontWeight: 'bold', padding: '3px 8px', borderRadius: '4px', backgroundColor: meter1.online ? 'rgba(72, 187, 120, 0.2)' : 'rgba(248, 113, 113, 0.2)', color: meter1.online ? '#059669' : '#dc2626', textAlign: 'left' }"> {{ meter1.online ? '通讯正常' : '通讯失败' }} </div> <div style="display: flex; gap: 15px; text-align: left;"> <!-- 左列 --> <div style="flex: 2;"> <p style="margin: 0 0 10px 0; padding-bottom: 10px; border-bottom: 1px solid #e5e7eb;">质量流量: {{ meter1.massFlow ?? '--' }} t/h</p> <p style="margin: 0 0 10px 0; padding-bottom: 10px; border-bottom: 1px solid #e5e7eb;">质量总量: {{ meter1.massTotal ?? '--' }} t</p> <p style="margin: 0 0 10px 0; padding-bottom: 10px; border-bottom: 1px solid #e5e7eb;">体积流量: {{ meter1.volumeFlow ?? '--' }} m³/h</p> <p style="margin: 0; padding-bottom: 10px;">体积总量: {{ meter1.volumeTotal ?? '--' }} m³</p> </div> <!-- 右列 --> <div style="flex: 1;"> <p style="margin: 0 0 10px 0; padding-bottom: 10px; border-bottom: 1px solid #e5e7eb;">密度: {{ meter1.density ?? '--' }}</p> <p style="margin: 0; padding-bottom: 10px;">温度: {{ meter1.temperature ?? '--' }} ℃</p> </div> </div> </div> <!-- 流量计2 --> <div class="meter-box" :style="{ flex: 1, padding: '15px', borderRadius: '10px', boxShadow: '0 4px 10px rgba(0,0,0,0.1)', backgroundColor: meter2.online ? '#f0fff4' : '#fff5f5', position: 'relative' }"> <h3 style="margin-bottom: 15px; font-size: 18px; color: #333; padding-right: 100px; text-align: left;">流量计 2</h3> <div :style="{ position: 'absolute', top: '15px', right: '15px', fontWeight: 'bold', padding: '3px 8px', borderRadius: '4px', backgroundColor: meter2.online ? 'rgba(72, 187, 120, 0.2)' : 'rgba(248, 113, 113, 0.2)', color: meter2.online ? '#059669' : '#dc2626', textAlign: 'left' }"> {{ meter2.online ? '通讯正常' : '通讯失败' }} </div> <div style="display: flex; gap: 15px; text-align: left;"> <!-- 左列 --> <div style="flex: 2;"> <p style="margin: 0 0 10px 0; padding-bottom: 10px; border-bottom: 1px solid #e5e7eb;">质量流量: {{ meter2.massFlow ?? '--' }} t/h</p> <p style="margin: 0 0 10px 0; padding-bottom: 10px; border-bottom: 1px solid #e5e7eb;">质量总量: {{ meter2.massTotal ?? '--' }} t</p> <p style="margin: 0 0 10px 0; padding-bottom: 10px; border-bottom: 1px solid #e5e7eb;">体积流量: {{ meter2.volumeFlow ?? '--' }} m³/h</p> <p style="margin: 0; padding-bottom: 10px;">体积总量: {{ meter2.volumeTotal ?? '--' }} m³</p> </div> <!-- 右列 --> <div style="flex: 1;"> <p style="margin: 0 0 10px 0; padding-bottom: 10px; border-bottom: 1px solid #e5e7eb;">密度: {{ meter2.density ?? '--' }}</p> <p style="margin: 0; padding-bottom: 10px;">温度: {{ meter2.temperature ?? '--' }} ℃</p> </div> </div> </div> </div> </div> <!-- 折线图区 --> <div style="padding: 30px;background: linear-gradient(to right, #f9fafb, #f3f4f6);border-radius: 12px;box-shadow: 0 6px 20px rgba(0,0,0,0.08);margin: 20px auto;max-width: 1600px;text-align: center;"> <!--标题--> <h2 style="margin-bottom: 20px; font-size: 22px; color: #111827;">流量计运行曲线</h2> <!-- 图表容器1：流量 --> <div id="chartFlow" style="width: 100%; height: 500px;" v-show="chartIndex===0"></div> <!-- 图表容器2：总量 --> <div id="chartTotal" style="width: 100%; height: 500px;" v-show="chartIndex===1"></div> <!-- 左右切换按钮 --> <div style="text-align: center; margin-top: 10px;"> <button @click="prevChart">◀ 上一图</button> <span style="margin: 0 15px; font-weight: bold;">{{ chartIndex===0 ? '流量曲线' : '总量曲线' }}</span> <button @click="nextChart">下一图 ▶</button> </div> </div> <!-- 报表区 --> <div style="padding: 30px;background: linear-gradient(to right, #f9fafb, #f3f4f6);border-radius: 12px;box-shadow: 0 6px 20px rgba(0,0,0,0.08);margin: 20px auto;max-width: 1600px;"> <!-- 打开报表按钮 --> <button @click="showReportDialog">查看报表</button> <!-- 报表弹窗 --> <dialog ref="reportDialog"> <h3>历史报表</h3> <div class="controls"> 流量计： <select v-model="reportMeterId"> <option value="1">流量计1</option> <option value="2">流量计2</option> </select> 开始时间： <input type="datetime-local" v-model="reportStart"> 结束时间： <input type="datetime-local" v-model="reportEnd"> <button @click="fetchReport">查询</button> <button @click="printReport">打印</button> <button @click="closeReportDialog">关闭</button> </div> <table> <thead> <tr> <th>时间</th> <th>质量流量 t/h</th> <th>质量总量 t</th> <th>体积流量 m³/h</th> <th>体积总量 m³</th> <th>密度</th> <th>温度</th> </tr> </thead> <tbody> <tr v-for="item in reportData" :key="item.id"> <td>{{ item.timestamp.replace('T',' ') }}</td> <td>{{ item.massFlow }}</td> <td>{{ item.massTotal }}</td> <td>{{ item.volumeFlow }}</td> <td>{{ item.volumeTotal }}</td> <td>{{ item.density }}</td> <td>{{ item.temperature }}</td> </tr> </tbody> </table> </dialog> </div> </div> 这个布局可以吗？帮忙美化一下比如分割线之类的、
~~~~

